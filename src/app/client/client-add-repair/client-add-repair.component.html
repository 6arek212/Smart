<section>

  <div class="box">
    <mat-card class="container">
      <div class="content">


        <mat-card-title *ngIf="!isSubmited"> قم بملأ التفاصيل وسنقوم بالتواصل معك</mat-card-title>

        <mat-card-title *ngIf="isSubmited"> شكرا لك سوف نقوم بالتواصل معك</mat-card-title>

        <mat-spinner *ngIf="isLoading"></mat-spinner>


        <form #form="ngForm" *ngIf="!isLoading && !isSubmited" (submit)="onAddingRequest(form)">



          <mat-form-field appearance="fill">
            <mat-label>الاسم الشخصي</mat-label>
            <input matInput  type="text" name="firstName" ngModel minlength="2" maxlength="24"
              required #firstNameInput="ngModel">

            <mat-error>
              <app-input-error [controller]="firstNameInput" [errors]="firstNameInput.errors"></app-input-error>
            </mat-error>

          </mat-form-field>



          <mat-form-field appearance="fill">
            <mat-label>العائلة</mat-label>
            <input matInput  type="text" name="lastName" ngModel minlength="2" maxlength="24"
              required #lastNameInput="ngModel">

            <mat-error>
              <app-input-error [controller]="lastNameInput" [errors]="lastNameInput.errors"></app-input-error>
            </mat-error>

          </mat-form-field>



          <mat-form-field dir="rtl" appearance="fill">
            <mat-label>رقم الهاتف</mat-label>
            <input matInput disabled type="text" name="phone" [ngModel]="phoneNumberData.phoneNumber" required maxlength="24"
              (input)="checkPhoneNumber(form,$event)" #phoneInput="ngModel">
            <mat-hint align="end">{{phoneInput.value?.length || 0}}/24</mat-hint>

            <mat-error>
              <app-input-error [controller]="phoneInput" [errors]="phoneInput.errors"></app-input-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field dir="rtl" appearance="fill">
            <mat-label>عنوان الطلب</mat-label>
            <input matInput type="text" name="title" ngModel maxlength="30" required #titleInput="ngModel">
            <mat-error>
              <app-input-error [controller]="titleInput" [errors]="titleInput.errors"></app-input-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>ملاحظات</mat-label>
            <textarea matInput rows="10" ngModel maxlength="600" name="notes" #notesInput="ngModel"></textarea>
            <mat-hint align="end">{{notesInput.value?.length || 0}}/600</mat-hint>

          </mat-form-field>












          <mat-card-actions>
            <button mat-raised-button color="accent">اضف طلب</button>

          </mat-card-actions>




        </form>






      </div>
    </mat-card>


  </div>
</section>
